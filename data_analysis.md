# 数据分析方法记录

> 2020年1月9日

+ **Pearson相关性系数（Pearson Correlation）**是衡量向量相似度的一种方法。输出范围为-1到+1, 0代表无相关性，负值为负相关，正值为正相关。处理的对象是 两个向量 ![[公式]](https://www.zhihu.com/equation?tex=X%3D%5BX_1%2C+...X_n%5D) 和 ![[公式]](https://www.zhihu.com/equation?tex=Y%3D%5BY_1%2C+...Y_n%5D) ，长度均为 ![[公式]](https://www.zhihu.com/equation?tex=n)，我们改变n为不同的天数，如1到10天，会得到十个相关系数，可以得到一个折线图，来比较哪个时间lag相关系数高些。***另外，不必对数据提前做标准化处理***
+ **自相关（Autocorrelation Function,ACF）**，也叫序列相关，是一个信号于其自身在不同时间点的互相关。非正式地来说，它就是**两次观察之间的相似度对它们之间的时间差的函数**。它是找出重复模式（如被噪声掩盖的周期信号），或识别隐含在信号谐波频率中消失的基频的数学工具。自相关函数在不同的领域，定义不完全等效。在某些领域，自相关函数等同于自协方差。 **一般会得到一个某点和其前面多少个点相关的图像。**
+ **偏自相关（PACF）**偏自相关函数用来度量暂时调整所有其他较短滞后的项 (![y_{t-1}, y_{t-2}, ..., y_{t-k-1}](https://www.biaodianfu.com/wp-content/ql-cache/quicklatex.com-a67dfdbcd8645764419306b5139664d1_l3.svg)) 之后，时间序列中以 k 个时间单位（![y_{t}](https://www.biaodianfu.com/wp-content/ql-cache/quicklatex.com-5a465ae3b85efddb8477071d48fb8a11_l3.svg)和![y_{t-k}](https://www.biaodianfu.com/wp-content/ql-cache/quicklatex.com-2f807abcfb46e41230b1992041377a58_l3.svg)）分隔的观测值之间的相关。***用白话说，就是剔除中间点的影响后，得出相隔k个时间单位的俩观测值的相关性。***
+ **互相关（Cross correlation）** is a standard method of estimating the degree to which two series are correlated.


# 要做的

> 2020年1月6日
1. 确定时间步长，需要做自相关。
2. 搞清楚代码里预测的部分。
3. 数据缺失的部分怎么办？（标记为-1的）
4. 均一化数据后要反回去。
5. 每个参数都要搞清楚为什么这么定。
6. 输出误差，各种指标。
7. 要出哪些图？怎样出好看，看论文里面的。

> 2020年1月9日
1. 不同时间lag的序列的相关系数的平均数。

2. 搞清楚代码里预测的部分。
3. 数据缺失的部分怎么办？（标记为-1的）
4. 均一化数据后要反回去。
5. 每个参数都要搞清楚为什么这么定。
6. 输出误差，各种指标。
7. 要出哪些图？怎样出好看，看论文里面的。

主成分分析

> 2020年1月19日
1. 俩参数需要做实验确定：时间步长，预测的时间步的数目。
2. RMSE NSE MARE暂用这三个指标来做判断。（可加上在不同地方的预测）
3. 加上test集。

> 2020年2月17日
    评价函数和 损失函数 相似，只不过评价函数的结果不会用于训练过程中，用于测试。
    今天，加入model.fit函数的参数，metrics矩阵

> 2020年3月2日
1. 加了dropout和tanh，修改了评价函数

> 2020年3月5日
1. 颜色
    'b' 	blue
    'g' 	green
    'r' 	red
    'c' 	cyan
    'm' 	magenta
    'y' 	yellow
    'k' 	black
    'w' 	white

> 2020年3月9号
1. 关于预测多步，RNNs自不说。如：向后预测第六天的径流值，MLP的做法是输出是6个，从输出中可以剥出来
这六天各自的预测值，然后和实际值做比较;SVR不能多输出，只好将第6天的值作为输出，但是在划分数据时，仍是按照RNNs划分数据的方法来的，即划分得到(n,6)维的数据，但是训练SVR时只用到了第六天的。
2. 在用模型预测时，如：预测第3和第6天的径流值，SVR需要训练两个模型，而RNNs和MLP只训练了一个，预测的时候都预测了1-6天的值，但是算精度和画图时，只将第1,3,6的预测值和实际值剥离了出来。